бот для поиска фильмов по кодам


## Требования
- Python 3.7 или выше
- Доступ к API Telegram

## Установка и настройка

### 1. Клонирование репозитория
```bash
git clone <url-репозитория>
cd movie_bot
```

### 2. Создание виртуального окружения
```bash
python -m venv venv
```

### 3. Активация виртуального окружения
- Windows:
```bash
venv\Scripts\activate
```
- Linux/Mac:
```bash
source venv/bin/activate
```

### 4. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 5. Настройка конфигурации
Создайте файл `.env` в корневой директории проекта со следующим содержимым:
```
BOT_TOKEN=ваш_токен_бота
ADMIN_IDS=id_админа1,id_админа2
```

### 6. Запуск бота
```bash
python bot.py
```

## Настройка бота в Telegram

### 1. Создание бота
- Напишите [@BotFather](https://t.me/BotFather) в Telegram
- Используйте команду `/newbot`
- Следуйте инструкциям для создания бота
- Получите токен бота и добавьте его в файл `.env`

## Использование бота

### Пользовательский интерфейс
1. Пользователь запускает бота командой `/start`
2. Бот отправляет приветственное сообщение с кнопкой "Ввести код"
3. При нажатии на кнопку "Ввести код" бот показывает сообщение о необходимости подписки на каналы
4. После третьего нажатия на кнопку "Ввести код" пользователь получает доступ к вводу кода
5. Пользователь вводит код фильма
6. Бот отправляет название фильма, соответствующее введенному коду

### Админ-панель
Для доступа к админ-панели необходимо:
1. Добавить ID администратора в файл `.env` (ADMIN_IDS)
2. Отправить команду `/admin` боту

В админ-панели доступны следующие функции:
- **Добавить фильм** - добавление нового кода и названия фильма
- **Список фильмов** - просмотр всех добавленных фильмов со статистикой использования
- **Удалить фильм** - удаление фильма по коду
- **Рассылка** - отправка сообщения всем пользователям бота
- **Выйти из админ-панели** - возврат в обычный режим

## Структура проекта
```
movie_bot/
├── bot.py                 # Основной файл запуска бота
├── config.py              # Конфигурация бота
├── database/              # Модуль для работы с базой данных
│   ├── __init__.py
│   └── db_manager.py      # Менеджер базы данных
├── handlers/              # Обработчики команд
│   ├── __init__.py
│   ├── admin.py           # Обработчики админских команд
│   └── user.py            # Обработчики пользовательских команд
└── keyboards/             # Клавиатуры
    ├── __init__.py
    └── keyboards.py       # Определения клавиатур
```

## Техническая информация
- База данных: SQLite
- Фреймворк: aiogram
- Хранение данных: фильмы (код, название, счетчик использования), пользователи (с счетчиком кликов)
# moviebot
